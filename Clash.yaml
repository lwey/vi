# url 里填写自己的订阅,名称不能重复 additional那行改自己想写的订阅链接组的命名
# 如果proxy-providers无法拉取订阅，可以尝试在订阅链接背后加上&flag=clash
proxy-providers:
  provider1:
    url: "http://106.75.141.168:3389/api/v1/client/subscribe?token=4b83c9b85ffb9cf06d86fe5bf1a05d1c"
    type: http
    interval: 86400
    health-check: {enable: true,url: "https://www.gstatic.com/generate_204",interval: 300}
    override:
      additional-prefix: "XSUS"

  provider2:
    url: ""
    type: http
    interval: 86400
    health-check: {enable: true,url: "https://www.gstatic.com/generate_204",interval: 300}
    override:
      additional-prefix: "2组命名"

  provider3:
    url: ""
    type: http
    interval: 86400
    health-check: {enable: true,url: "https://www.gstatic.com/generate_204",interval: 300}
    override:
      additional-prefix: "3组命名"





mixed-port: 7890
ipv6: true
allow-lan: true
unified-delay: true
tcp-concurrent: true
external-controller: 127.0.0.1:9090
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"

find-process-mode: strict
global-client-fingerprint: chrome

profile:
  store-selected: true
  store-fake-ip: true

sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]

  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"

tun:
  enable: true
  stack: mixed
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true

dns:
  enable: true
  ipv6: true
  respect-rules: true
  enhanced-mode: fake-ip
  fake-ip-filter:
  - "+.lan"
  - "+.local"
  - "+.market.xiaomi.com"
  - "*.lan"
  - "*.localdomain"
  - "*.example"
  - "*.invalid"
  - "*.localhost"
  - "*.test"
  - "*.local"
  - "*.home.arpa"
  - time.*.com
  - time.*.gov
  - time.*.edu.cn
  - time.*.apple.com
  - time-ios.apple.com
  - time1.*.com
  - time2.*.com
  - time3.*.com
  - time4.*.com
  - time5.*.com
  - time6.*.com
  - time7.*.com
  - ntp.*.com
  - ntp1.*.com
  - ntp2.*.com
  - ntp3.*.com
  - ntp4.*.com
  - ntp5.*.com
  - ntp6.*.com
  - ntp7.*.com
  - "*.time.edu.cn"
  - "*.ntp.org.cn"
  - "+.pool.ntp.org"
  - time1.cloud.tencent.com
  - music.163.com
  - "*.music.163.com"
  - "*.126.net"
  - musicapi.taihe.com
  - music.taihe.com
  - songsearch.kugou.com
  - trackercdn.kugou.com
  - "*.kuwo.cn"
  - api-jooxtt.sanook.com
  - api.joox.com
  - joox.com
  - y.qq.com
  - "*.y.qq.com"
  - streamoc.music.tc.qq.com
  - mobileoc.music.tc.qq.com
  - isure.stream.qqmusic.qq.com
  - dl.stream.qqmusic.qq.com
  - aqqmusic.tc.qq.com
  - amobile.music.tc.qq.com
  - "*.xiami.com"
  - "*.music.migu.cn"
  - music.migu.cn
  - "+.msftconnecttest.com"
  - "+.msftncsi.com"
  - localhost.ptlogin2.qq.com
  - localhost.sec.qq.com
  - "+.qq.com"
  - "+.tencent.com"
  - "+.srv.nintendo.net"
  - "*.n.n.srv.nintendo.net"
  - "+.cdn.nintendo.net"
  - "+.stun.playstation.net"
  - xbox.*.*.microsoft.com
  - "*.*.xboxlive.com"
  - xbox.*.microsoft.com
  - xnotify.xboxlive.com
  - "+.battlenet.com.cn"
  - "+.wotgame.cn"
  - "+.wggames.cn"
  - "+.wowsgame.cn"
  - "+.wargaming.net"
  - proxy.golang.org
  - stun.*.*
  - stun.*.*.*
  - "+.stun.*.*"
  - "+.stun.*.*.*"
  - "+.stun.*.*.*.*"
  - "+.stun.*.*.*.*.*"
  - heartbeat.belkin.com
  - "*.linksys.com"
  - "*.linksyssmartwifi.com"
  - "*.router.asus.com"
  - mesu.apple.com
  - swscan.apple.com
  - swquery.apple.com
  - swdownload.apple.com
  - swcdn.apple.com
  - swdist.apple.com
  - lens.l.google.com
  - stun.l.google.com
  - na.b.g-tun.com
  - "+.nflxvideo.net"
  - "*.square-enix.com"
  - "*.finalfantasyxiv.com"
  - "*.ffxiv.com"
  - "*.ff14.sdo.com"
  - ff.dorado.sdo.com
  - "*.mcdn.bilivideo.cn"
  - "+.media.dssott.com"
  - shark007.net
  - Mijia Cloud
  - "+.cmbchina.com"
  - "+.cmbimg.com"
  - local.adguard.org
  - "+.sandai.net"
  - "+.n0808.com"
  - "+.uu.163.com"
  - ps.res.netease.com
  nameserver:
    - 114.114.114.114
    - 119.29.29.29
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
    - 192.168.1.1
  proxy-server-nameserver:
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
  nameserver-policy:
    geosite:cn,private:
      - https://223.5.5.5/dns-query
      - https://120.53.53.53/dns-query
      - 114.114.114.114
      - 192.168.1.1
    geosite:geolocation-!cn:
      - https://1.1.1.1/dns-query
      - https://8.8.8.8/dns-query





proxies: 
  - name: "直连"
    type: direct
    udp: true

    

 

proxy-groups:

  - name: 默认
    type: select
    proxies: [自动选择,直连,香港,台湾,日本,新加坡,美国,手动切换,香港自动选择,台湾自动选择,日本自动选择,美国自动选择,新加坡自动选择]
    icon: "https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Clash.png"

  - name: Telegram
    type: select
    proxies: [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换,香港自动选择,台湾自动选择,日本自动选择,美国自动选择,新加坡自动选择]
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/telegram(1).png"


  - name: 广告拦截
    type: select
    proxies: [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换,REJECT]
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/ad(5).png"

  - name: 应用净化
    type: select
    proxies: [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换,REJECT]
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/ad(3).png"

  - name: OpenAi
    type: select
    proxies: [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换,香港自动选择,台湾自动选择,日本自动选择,美国自动选择,新加坡自动选择]
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/ChatGPT(1).png"


  - name: Twitter
    type: select
    proxies: [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换,香港自动选择,台湾自动选择,日本自动选择,美国自动选择,新加坡自动选择]
    icon: "https://raw.githubusercontent.com/fmz200/wool_scripts/master/icons/apps/twitter.png"


  - name: YouTube
    type: select
    proxies: [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换,香港自动选择,台湾自动选择,日本自动选择,美国自动选择,新加坡自动选择]
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/youtube(2).png"


  - name: Tiktok
    type: select
    proxies: [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换,香港自动选择,台湾自动选择,日本自动选择,美国自动选择,新加坡自动选择]
    icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/TikTok.png"


  - name: Github
    type: select
    proxies:  [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换,香港自动选择,台湾自动选择,日本自动选择,美国自动选择,新加坡自动选择]
    icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/github.png"


  - name: 国内媒体
    type: select
    proxies:  [默认,香港,台湾,日本,新加坡,美国,自动选择,直连,手动切换]
    icon: "https://raw.githubusercontent.com/fmz200/wool_scripts/master/icons/apps/Movist.png"


  - name: 国内
    type: select
    proxies:  [直连,默认,香港,台湾,日本,新加坡,美国,自动选择,手动切换]
    icon: "https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/CN.png"


  #分隔,下面是地区分组
  - name: 香港
    type: select
    include-all: true
    filter: "(?i)港|hk|hongkong|hong kong"
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/Hongkong(1).png"

  - name: 台湾
    type: select
    include-all: true
    filter: "(?i)台|tw|taiwan"
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/taiwan(3).png"

  - name: 日本
    type: select
    include-all: true
    filter: "(?i)日|jp|japan"
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/Japan.png"

  - name: 美国
    type: select
    include-all: true
    filter: "(?i)美|us|unitedstates|united states"
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/US(1).png"

  - name: 新加坡
    type: select
    include-all: true
    filter: "(?i)(新|sg|singapore)"
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/singapore(1).png"


  - name: 全球直连
    type: select
    include-all: true
    icon: "https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Global.png"

  - name: 手动切换
    type: select
    include-all: true
    icon: "https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Final.png"



  - name: 自动选择
    type: url-test
    include-all: true
    filter: "(?i)^(?!.*(?:直连)).*"
    tolerance: 100
    icon: "https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Available.png"

  - name: 香港自动选择
    type: url-test 
    include-all: true
    filter: "(?i) 港|hk|hongkong|hong kong"
    tolerance: 200
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/Hongkong(1).png"

  - name: 台湾自动选择
    type: url-test 
    include-all: true
    filter: "(?i)台|tw|taiwan"
    tolerance: 100
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/taiwan(3).png"

  - name: 日本自动选择
    type: url-test 
    include-all: true
    filter: "(?i)日|jp|japan"
    tolerance: 100
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/Japan.png"

  - name: 美国自动选择
    type: url-test 
    include-all: true
    filter: "(?i)美|us|unitedstates|united states"
    tolerance: 100
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/US(1).png"

  - name: 新加坡自动选择
    type: url-test 
    include-all: true
    filter: "(?i)(新|sg|singapore)"
    tolerance: 100
    icon: "https://raw.githubusercontent.com/lige47/QuanX-icon-rule/master/icon/singapore(1).png"



rules:
  - IP-CIDR,95.161.76.100/31,REJECT,no-resolve
  - RULE-SET,LocalAreaNetwork,全球直连
  - RULE-SET,UnBan,全球直连
  - RULE-SET,BanAD,广告拦截
  - RULE-SET,BanProgramAD,应用净化
  - RULE-SET,Telegram,Telegram
  - RULE-SET,OpenAi,OpenAi
  - RULE-SET,YouTube,YouTube
  - RULE-SET,Twitter,Twitter
  - RULE-SET,Github,Github
  - RULE-SET,ProxyGFWlist,默认
  - RULE-SET,Directlist,国内
  - RULE-SET,Download,全球直连
  - GEOSITE,CN,直连
  - GEOIP,CN,直连
  - MATCH,默认

rule-providers:
   LocalAreaNetwork:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/LocalAreaNetwork.yaml"
          path: ./ruleset/LocalAreaNetwork.yaml
          interval: 1800 


   Telegram:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Telegram.yaml"
          path: ./ruleset/Telegram.yaml
          interval: 1800

   OpenAi:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/OpenAi.yaml"
          path: ./ruleset/OpenAi.yaml
          interval: 1800



   YouTube:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/YouTube.yaml"
          path: ./ruleset/YouTube.yaml
          interval: 1800



   Tiktok:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml"
          path: ./ruleset/Tiktok.yaml
          interval: 1800


   Twitter:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Twitter.yaml"
          path: ./ruleset/Twitter.yaml
          interval: 1800




   Github:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Github.yaml"
          path: ./ruleset/,Github.yaml
          interval: 1800
          
   CNN:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/CNN/CNN.yaml"
          path: ./ruleset/CNN.yaml
          interval: 1800
          

   ChinaMedia:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaMedia.yaml"
          path: ./ruleset/ChinaMedia.yaml
          interval: 1800
        



   Directlist:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/caserangle/clash-rule/main/Directlist.yaml"
          path: ./ruleset/Directlist.yaml
          interval: 1800


   Download:   
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Download.yaml"
          path: ./ruleset/Download.yaml
          interval: 1800
