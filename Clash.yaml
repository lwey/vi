pr: &pr
  proxies: [ä¸»è¦èŠ‚ç‚¹, æ•…éšœè½¬ç§», è´Ÿè½½å‡è¡¡, è‡ªåŠ¨é€‰æ‹©, æ‰‹åŠ¨åˆ‡æ¢, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶å®ƒåœ°åŒº, å›½å†…ç›´è¿]

p: &p
  type: http
  interval: 86400
  health-check:
    enable: true
    url: https://cp.cloudflare.com
    interval: 300
    timeout: 1000
    tolerance: 100

use: &use
  use: [proxy1]

balance: &balance
  use: [proxy1]

fallback: &fallback
  use: [proxy1]

proxy-providers:
  proxy1:
    <<: *p
    path: ./proxy_provider/proxy1.yaml
    url: "http://106.75.143.245:3390/api/v1/client/subscribe?token=4b83c9b85ffb9cf06d86fe5bf1a05d1c"

mixed-port: 7890
redir-port: 9797
tproxy-port: 9898
mode: rule
bind-address: '*'
allow-lan: true
geodata-mode: true
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
keep-alive-interval: 1800
geox-url:
  geoip: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb"
unified-delay: true
tcp-concurrent: true
enable-process: true
log-level: error
find-process-mode: strict
global-client-fingerprint: random
external-controller: 0.0.0.0:9090
secret: ""
external-ui: ui

profile:
  store-selected: true
  store-fake-ip: true

sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]

tun:
  enable: false
  device: mihomo
  stack: mixed
  dns-hijack: [any:53, tcp://any:53]
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  strict-route: true
  include-uid: [0, 10]
  exclude-package: []

dns:
  enable: true
  prefer-h3: true
  ipv6: true
  listen: 0.0.0.0:1053
  enhanced-mode: redir-host
  fake-ip-range: 28.0.0.1/8
  fake-ip-filter: ['rule-set:fakeip-filter']
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 114.114.114.114
    - '[2402:4e00::]'
    - '[2400:3200::1]'
  nameserver:
    - 'tls://8.8.4.4#dns'
    - 'tls://1.0.0.1#dns'
    - 'tls://[2001:4860:4860::8844]#dns'
    - 'tls://[2606:4700:4700::1001]#dns'
  proxy-server-nameserver:
    - https://dns.alidns.com/dns-query
  nameserver-policy:
    "geosite:cn,private":
      - https://dns.alidns.com/dns-query
      - https://doh.pub/dns-query
    "geosite:!cn,!private": 
      - https://dns.google/dns-query
      - https://cloudflare-dns.com/dns-query

proxies:
  - {name: DNS_Hijack, type: dns}

proxy-groups:
  - name: ä¸»è¦èŠ‚ç‚¹
    type: select
    proxies: [æ‰‹åŠ¨åˆ‡æ¢, è‡ªåŠ¨é€‰æ‹©, æ•…éšœè½¬ç§», è´Ÿè½½å‡è¡¡, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶å®ƒåœ°åŒº, å›½å†…ç›´è¿, REJECT]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Star.png

  - name: æ‰‹åŠ¨åˆ‡æ¢
    type: select
    <<: *use
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Rocket.png

  - name: æ•…éšœè½¬ç§»
    type: fallback
    <<: *fallback
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Loop.png

  - name: è´Ÿè½½å‡è¡¡
    type: load-balance
    <<: *balance
    strategy: round-robin
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Round_Robin_1.png

  - name: è‡ªåŠ¨é€‰æ‹©
    type: url-test
    <<: *use
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png

  - name: é¦™æ¸¯èŠ‚ç‚¹
    type: select
    <<: *use
    filter: "(?i)ğŸ‡­ğŸ‡°|æ¸¯|hk|hongkong|hong kong"
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png

  - name: å°æ¹¾èŠ‚ç‚¹
    type: select
    <<: *use
    filter: "(?i)ğŸ‡¹ğŸ‡¼|å°|tw|taiwan"
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png

  - name: æ—¥æœ¬èŠ‚ç‚¹
    type: select
    <<: *use
    filter: "(?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|ä¸œäº¬|jp|japan"
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png

  - name: æ–°åŠ å¡èŠ‚ç‚¹
    type: select
    <<: *use
    filter: "(?i)(ğŸ‡¸ğŸ‡¬|æ–°|sg|singapore)"
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png

  - name: ç¾å›½èŠ‚ç‚¹
    type: select
    <<: *use
    filter: "(?i)ğŸ‡ºğŸ‡¸|ç¾|us|unitedstates|united states"
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png

  - name: å…¶å®ƒåœ°åŒº
    type: select
    <<: *use
    filter: "(?i)^(?!.*(?:ğŸ‡­ğŸ‡°|ğŸ‡¹ğŸ‡¼|ğŸ‡¯ğŸ‡µ|ğŸ‡¸ğŸ‡¬|ğŸ‡ºğŸ‡¸|æ¸¯|hk|hongkong|å°|tw|taiwan|æ—¥|jp|japan|æ–°|sg|singapore|ç¾|us|unitedstates)).*"
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Null_Nation.png

  - name: è°·æ­ŒæœåŠ¡
    type: select
    <<: *pr
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png

  - name: å¾®è½¯æœåŠ¡
    type: select
    <<: *pr
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png

  - name: GITHUB
    type: select
    <<: *pr
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/GitHub.png

  - name: æ²¹ç®¡è§†é¢‘
    type: select
    <<: *pr
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png

  - name: å¥ˆé£è§†é¢‘
    type: select
    <<: *pr
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix.png

  - name: ç”µæŠ¥æ¶ˆæ¯
    type: select
    <<: *pr
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png

  - name: å›½å¤–ä»£ç†
    type: select
    <<: *pr
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Proxy.png

  - name: å›½å†…ç›´è¿
    type: select
    proxies: [DIRECT, REJECT]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png

  - name: å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies: [REJECT, å›½å†…ç›´è¿]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Reject.png

  - name: æ¼ç½‘ä¹‹é±¼
    type: select
    <<: *pr
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png

rule-providers:
  fakeip-filter:
    type: http
    behavior: domain
    format: mrs
    path: ./rule_provider/fakeip-filter.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/fakeip-filter.mrs"
    interval: 86400

rules:
  - DST-PORT,53,DNS_Hijack
  - AND,((PROCESS-NAME,mihomo),(NOT,((IN-TYPE,inner)))),å¹¿å‘Šæ‹¦æˆª
  - AND,((PROCESS-NAME,clash),(NOT,((IN-TYPE,inner)))),å¹¿å‘Šæ‹¦æˆª
  - PROCESS-NAME,http-meta,å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,omarea.com,å›½å¤–ä»£ç†
  - DOMAIN-SUFFIX,linux.do,å›½å¤–ä»£ç†
  - DOMAIN-KEYWORD,wogg,å›½å†…ç›´è¿
  - DOMAIN-KEYWORD,hsck484,å›½å†…ç›´è¿
  - GEOIP,google,è°·æ­ŒæœåŠ¡,no-resolve
  - GEOSITE,google,è°·æ­ŒæœåŠ¡
  - GEOSITE,microsoft,å¾®è½¯æœåŠ¡
  - GEOSITE,github,GITHUB
  - GEOSITE,youtube,æ²¹ç®¡è§†é¢‘
  - GEOIP,netflix,å¥ˆé£è§†é¢‘,no-resolve
  - GEOSITE,netflix,å¥ˆé£è§†é¢‘
  - GEOIP,telegram,ç”µæŠ¥æ¶ˆæ¯,no-resolve
  - GEOSITE,telegram,ç”µæŠ¥æ¶ˆæ¯
  - GEOSITE,category-ads-all,å¹¿å‘Šæ‹¦æˆª
  - GEOSITE,cn,å›½å†…ç›´è¿
  - GEOIP,cn,å›½å†…ç›´è¿,no-resolve
  - GEOIP,private,å›½å†…ç›´è¿,no-resolve
  - MATCH,æ¼ç½‘ä¹‹é±¼