#################### å…¨å±€é…ç½® ####################
mode: rule # è¿è¡Œæ¨¡å¼ rule / global / direct ,Clash Meta æš‚ä¸æ”¯æŒ script
log-level: silent # æ—¥å¿—çº§åˆ« silent / error / warning / info / debug

port: 7890 # http(s) ä»£ç†ç«¯å£
socks-port: 7891 # socks4/4a/5 ä»£ç†ç«¯å£
mixed-port: 7892 # æ··åˆç«¯å£ åŒæ—¶æ”¯æŒ HTTP(S) å’Œ SOCKS5 åè®®
redir-port: 7893 # redirect é€æ˜ä»£ç†ç«¯å£,ä»…èƒ½ä»£ç† TCP æµé‡
tproxy-port: 7894 # tproxy é€æ˜ä»£ç†ç«¯å£,å¯ä»£ç† TCP ä¸ UDP æµé‡

allow-lan: true # å…è®¸å±€åŸŸç½‘è¿æ¥ false / true
bind-address: "*" # ç»‘å®šåœ°å€
lan-allowed-ips: # å…è®¸è¿æ¥çš„ IP åœ°å€æ®µ,ä»…ä½œç”¨äº allow-lan ä¸º true, é»˜è®¤å€¼ä¸º0.0.0.0/0å’Œ::/0
  - "0.0.0.0/0"
  - "::/0"
lan-disallowed-ips: # ç¦æ­¢è¿æ¥çš„ IP åœ°å€æ®µ, é»‘åå•ä¼˜å…ˆçº§é«˜äºç™½åå•, é»˜è®¤å€¼ä¸ºç©º
  - "192.168.0.3/32"
authentication: # ç”¨æˆ·éªŒè¯ http(s)/socks/mixedä»£ç†çš„ç”¨æˆ·éªŒè¯
  - "clash:meta" # ç”¨æˆ·:å¯†ç 
skip-auth-prefixes: # è·³è¿‡éªŒè¯çš„IPæ®µ
  - "127.0.0.1/8"
  - "::1/128"

ipv6: true # IPv6 æ˜¯å¦å…è®¸å†…æ ¸æ¥å— IPv6 æµé‡
tcp-concurrent: true # TCP å¹¶å‘ å¦‚æœåŸŸåè§£æç»“æœå¯¹åº”å¤šä¸ªIP,å¹¶å‘è¯·æ±‚æ‰€æœ‰IP,é€‰æ‹©æ¡æ‰‹æœ€å¿«çš„IPè¿›è¡Œé€šè®¯
keep-alive-interval: 30 # TCP Keep Alive é—´éš”,å•ä½åˆ†é’Ÿ | æ§åˆ¶ Clash å‘å‡º TCP Keep Alive åŒ…çš„é—´éš”,å‡å°‘ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜çš„ä¸´æ—¶æªæ–½
unified-delay: true # ç»Ÿä¸€å»¶è¿Ÿ
# interface-name: "wlan0" # å‡ºç«™æ¥å£,ä¸ auto-detect-interface å†²çª
# routing-mark:  # è·¯ç”±æ ‡è®° é…ç½® fwmark ä»…ç”¨äº Linux

find-process-mode: off # è¿›ç¨‹æ¨¡å¼ off / strict / always

geodata-mode: true # GEOIP æ•°æ®æ¨¡å¼,æ›´æ”¹ geoip ä½¿ç”¨æ–‡ä»¶,mmdb æˆ–è€… dat,å¯é€‰,true ä¸º dat
geosite-matcher: succinct # Matcher implementation used by GeoSite, available implementations: - succinct (default, same as rule-set) - mph (from V2Ray, also `hybrid` in Xray)
geodata-loader: memconservative # GEO æ–‡ä»¶åŠ è½½æ¨¡å¼ standard / memconservative
geo-auto-update: false # è‡ªåŠ¨æ›´æ–° GEO æ˜¯å¦å¯ç”¨,å¯é€‰ true/false
geo-update-interval: 24 # æ›´æ–°é—´éš”,å•ä½å°æ—¶
geox-url: # è‡ªå®š GEO ä¸‹è½½åœ°å€
  geoip: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/release/geoip.dat"
  geosite: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/release/geosite.dat"
  mmdb: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/release/country.mmdb"
  # asn: "https://raw.githubusercontent.com/xishang0128/geoip/release/GeoLite2-ASN.mmdb"

global-client-fingerprint: chrome # å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹
global-ua: "Mozilla/5.0; AppleWebKit/537.36; Chrome/91.0.4472.114; Safari/537.36; Shadowrocket/1.9.7; meta/1.0.0; Sing/1.1.0" # å…¨å±€ UA ,é»˜è®¤clash.meta

# tls: # TLS ç›®å‰ä»…ç”¨äº API çš„ https
  # certificate: "./tls/cert.pem" # è¯ä¹¦ PEM æ ¼å¼,æˆ–è€… è¯ä¹¦çš„è·¯å¾„
  # private-key: "./tls/key.pem" # è¯ä¹¦å¯¹åº”çš„ç§é’¥ PEM æ ¼å¼,æˆ–è€…ç§é’¥è·¯å¾„
  # custom-certifactes:
    # - "./tls/Mozilla.pem"

external-controller: 0.0.0.0:9090 # API ç›‘å¬åœ°å€
# external-controller-tls: 0.0.0.0:9443 # HTTPS-API ç›‘å¬åœ°å€,éœ€è¦é…ç½® tls éƒ¨åˆ†è¯ä¹¦å’Œå…¶ç§é’¥é…ç½®,ä½¿ç”¨ TLS ä¹Ÿå¿…é¡»å¡«å†™ external-controller
secret: "" # API çš„è®¿é—®å¯†é’¥

external-ui: "./ui" # å¤–éƒ¨ç”¨æˆ·ç•Œé¢ è·¯å¾„
external-ui-name: "metacubexd" # è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢åå­—
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip" # è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢ä¸‹è½½åœ°å€


#################### è¯•éªŒé…ç½® ####################
experimental:
  # quic-go-disable-gso: false # ç¦ç”¨GSO
  # quic-go-disable-ecn: false # ç¦ç”¨ECN
  # dialer-ip4p-convert: false # å¯ç”¨IP4Påœ°å€è½¬æ¢

#################### ç¼“å­˜ ####################
profile:
  store-selected: true # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©,ä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
  store-fake-ip: true # fake-ip ç¼“å­˜,åŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶,ä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€

#################### HOSTS ####################
hosts: # hosts ç±»ä¼¼äº /etc/hosts, ä»…æ”¯æŒé…ç½®å•ä¸ª IP
  # '*.clash.dev': 127.0.0.1
  # 'alpha.clash.dev': '::1'
  # test.com: [1.1.1.1, 2.2.2.2]
  # baidu.com: google.com # åªå…è®¸é…ç½®ä¸€ä¸ªåˆ«å
  # home.lan: lan # lan ä¸ºç‰¹åˆ«å­—æ®µ,å°†åŠ å…¥æœ¬åœ°æ‰€æœ‰ç½‘å¡çš„åœ°å€

#################### DNS ####################
dns:
  enable: true # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  cache-algorithm: arc # ç¼“å­˜ç®—æ³• lru / lfu / arc, ä¸€èˆ¬ä¸è®¾ç½®ä½¿ç”¨é»˜è®¤
  prefer-h3: true # å¼€å¯ DoH æ”¯æŒ HTTP/3,å°†å¹¶å‘å°è¯•ï¼Œæå‰ç¡®è®¤DNSæœåŠ¡å•†å¯ç”¨h3
  listen: 0.0.0.0:1053 # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  ipv6: true # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  ipv6-timeout: 300 # å•ä½ï¼šms,å†…éƒ¨åŒæ ˆå¹¶å‘æ—¶,å‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶,ç­‰å¾… AAAA çš„æ—¶é—´,é»˜è®¤ 100ms
  enhanced-mode: redir-host # mihomo çš„ DNS å¤„ç†æ¨¡å¼ redir-host / fake-ip
  fake-ip-range: 28.0.0.1/8 # fakeip ä¸‹çš„ IP æ®µè®¾ç½® 198.18.0.1/16 28.0.0.1/8
  fake-ip-filter: # fakeip è¿‡æ»¤,ä»¥ä¸‹åœ°å€ä¸ä¼šä¸‹å‘ fakeip æ˜ å°„ç”¨äºè¿æ¥
    - "*"
    - "+.lan"
    - "+.invalid.*"
    - "+.localhost"
    - "+.local.*"
    - "+.time.*"
    - "+.ntp.*"
    - "+.time.edu.cn"
    - "+.ntp.org.cn"
    - "+.pool.ntp.org"
    - "+.qpic.cn"
    - "localhost.ptlogin2.qq.com"
    - "localhost.sec.qq.com"
    - "dns.msftncsi.com"
    - "www.msftncsi.com"
    - "www.msftconnecttest.com"
    - "time1.cloud.tencent.com"
  use-hosts: false # æ˜¯å¦æŸ¥è¯¢ hosts,æ˜¯å¦å¯ç”¨,å¯é€‰ true/false
  default-nameserver: # ç”¨äºè§£æ nameserver,fallback ä»¥åŠå…¶ä»–DNSæœåŠ¡å™¨é…ç½®çš„,DNS æœåŠ¡åŸŸå,åªèƒ½ä½¿ç”¨çº¯ IP åœ°å€,å¯ä½¿ç”¨åŠ å¯†çš„IP DNS
    - "2606:4700:4700::1001" # Cloudflare IPv6
    - "2400:3200:baba::1" # Alibaba IPv6
    - "2606:4700:4700::1111"  # Cloudflare IPv6
    - "2400:3200::1"  # Alibaba IPv6
    - "1.0.0.1" # Cloudflare IPv4
    - "223.6.6.6" # Alibaba IPv4
    - "1.1.1.1" # Cloudflare IPv4
    - "223.5.5.5" # Alibaba IPv4
  nameserver-policy: # ä½¿ç”¨æŒ‡å®šçš„ DNS æœåŠ¡å™¨,ä¼˜å…ˆäº nameserver/fallback æŸ¥è¯¢
    "geosite:private,cn":
    - "https://[2400:3200::1]/dns-query"  # Alibaba IPv6 DoH
    - "https://[2400:3200:baba::1]/dns-query" # Alibaba IPv6 DoH
    - "https://223.5.5.5/dns-query" # Alibaba IPv4 DoH
    - "https://223.6.6.6/dns-query" # Alibaba IPv4 DoH
  nameserver: # é»˜è®¤åŸŸåè§£ææœåŠ¡å™¨,å¦‚ä¸é…ç½® fallback/proxy-server-nameserver , åˆ™æ‰€æœ‰åŸŸåéƒ½ç”± nameserver è§£æ
    - "https://[2606:4700:4700::1111]/dns-query"  # Cloudflare IPv6 DoH
    - "https://[2400:3200::1]/dns-query"  # Alibaba IPv6 DoH
    - "https://[2606:4700:4700::1001]/dns-query" # Cloudflare IPv6 DoH
    - "https://[2400:3200:baba::1]/dns-query" # Alibaba IPv6 DoH
    - "https://1.1.1.1/dns-query" # Cloudflare IPv4 DoH
    - "https://223.5.5.5/dns-query" # Alibaba IPv4 DoH
    - "https://1.0.0.1/dns-query" # Cloudflare IPv4 DoH
    - "https://223.6.6.6/dns-query" # Alibaba IPv4 DoH
  proxy-server-nameserver: # ä»…ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸå,é…ç½®æœåŠ¡å™¨è‹¥æŸ¥è¯¢å¤±è´¥å°†ä½¿ç”¨ nameserver,éå¹¶å‘æŸ¥è¯¢
    - "https://[2606:4700:4700::1111]/dns-query"  # Cloudflare IPv6 DoH
    - "https://[2606:4700:4700::1001]/dns-query" # Cloudflare IPv6 DoH
    - "https://1.1.1.1/dns-query" # Cloudflare IPv4 DoH
    - "https://1.0.0.1/dns-query" # Cloudflare IPv4 DoH
  fallback: # åå¤‡åŸŸåè§£ææœåŠ¡å™¨
    - "https://[2606:4700:4700::1111]/dns-query"  # Cloudflare IPv6 DoH
    - "https://[2606:4700:4700::1001]/dns-query" # Cloudflare IPv6 DoH
    - "https://1.1.1.1/dns-query" # Cloudflare IPv4 DoH
    - "https://1.0.0.1/dns-query" # Cloudflare IPv4 DoH
  fallback-filter: # åå¤‡åŸŸåè§£ææœåŠ¡å™¨ç­›é€‰,æ»¡è¶³æ¡ä»¶çš„å°†ä½¿ç”¨ fallbackç»“æœæˆ–åªä½¿ç”¨ fallbackè§£æ
    geoip: true
    geoip-code: CN
    geosite: # geosite åˆ—è¡¨çš„å†…å®¹è¢«è§†ä¸ºå·²æ±¡æŸ“,åŒ¹é…åˆ° geosite çš„åŸŸå,å°†åªä½¿ç”¨ fallbackè§£æ,ä¸å»ä½¿ç”¨ nameserver
      - "geolocation-!cn"
    ipcidr: # è¿™äº›ç½‘æ®µçš„ç»“æœä¼šè¢«è§†ä¸ºæ±¡æŸ“,nameserverè§£æå‡ºè¿™äº›ç»“æœæ—¶å°†ä¼šé‡‡ç”¨ fallbackçš„è§£æç»“æœ
      - "240.0.0.0/4"
      - "127.0.0.1/8"
      - "0.0.0.0/32"

#################### åŸŸåå—…æ¢ ####################
sniffer:
  enable: true # æ˜¯å¦å¯ç”¨,å¯é€‰ true/false
  force-dns-mapping: true # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  override-destination: true # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®,é»˜è®¤ä¸º true
  sniff:
    QUIC:
      ports: [443, 8443]
    TLS: # TLS é»˜è®¤å¦‚æœä¸é…ç½® ports é»˜è®¤å—…æ¢ 443
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true # å¯è¦†ç›– sniffer.override-destination
  force-domain:
    - "+.v2ex.com"
  skip-domain: # éœ€è¦è·³è¿‡å—…æ¢çš„åŸŸå,ä¸»è¦è§£å†³éƒ¨åˆ†ç«™ç‚¹sniå­—æ®µéåŸŸå,å¯¼è‡´å—…æ¢ç»“æœå¼‚å¸¸çš„é—®é¢˜,å¦‚ç±³å®¶è®¾å¤‡
    - "Mijia Cloud"

#################### TUN ####################
tun:
  enable: true # æ˜¯å¦å¯ç”¨,å¯é€‰ true/false
  stack: system # tun æ¨¡å¼å †æ ˆ system / gvisor / mixed
  device: Clash # æŒ‡å®š tun ç½‘å¡åç§°,MacOS è®¾å¤‡åªèƒ½ä½¿ç”¨ utun å¼€å¤´çš„ç½‘å¡å
  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±,å¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡
  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£,å¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡
  strict-route: false # ä¸¥æ ¼è·¯ç”± true / false æ‰€æœ‰è¿æ¥è·¯ç”±åˆ° tun æ¥é˜²æ­¢æ³„æ¼,ä½†è®¾å¤‡å°†æ— æ³•è¢«å…¶ä»–è®¾å¤‡è®¿é—®
  # gso: true # å¯ç”¨é€šç”¨åˆ†æ®µå¸è½½,ä»…æ”¯æŒ Linux
  # gso-max-size: 65536 # æ•°æ®å—çš„æœ€å¤§é•¿åº¦
  dns-hijack: # éœ€è¦åŠ«æŒçš„ DNS
    - "any:53"
  mtu: 1280 # æœ€å¤§ä¼ è¾“å•å…ƒ é»˜è®¤ï¼š9000
  udp-timeout: 300 # UDP NAT è¿‡æœŸæ—¶é—´,ä»¥ç§’ä¸ºå•ä½,é»˜è®¤ä¸º 300(5 åˆ†é’Ÿ)
  endpoint-independent-nat: false # å¯ç”¨ç‹¬ç«‹äºç«¯ç‚¹çš„ NAT,æ€§èƒ½å¯èƒ½ä¼šç•¥æœ‰ä¸‹é™,æ‰€ä»¥ä¸å»ºè®®åœ¨ä¸éœ€è¦çš„æ—¶å€™å¼€å¯
  inet4-route-address:
    - "0.0.0.0/1"
    - "128.0.0.0/1"
  inet6-route-address:
    - "::/1"
    - "8000::/1"

#################### ç›‘å¬ ####################
listeners:

#################### NTP ####################
ntp:
  enable: false # æ˜¯å¦å¯ç”¨ NTP æœåŠ¡
  write-to-system: true # æ˜¯å¦åŒæ­¥è‡³ç³»ç»Ÿæ—¶é—´,éœ€è¦ rootã€ç®¡ç†å‘˜æ¨¡å¼è¿è¡Œ
  server: "ntp.tencent.com" # NTP æœåŠ¡åœ°å€
  port: 123 # NTP æœåŠ¡ç«¯å£,é»˜è®¤ 123
  interval: 60 # åŒæ­¥æ—¶é—´é—´éš”,å•ä½ï¼ˆåˆ†ï¼‰,é»˜è®¤åŒæ­¥é—´éš”ä¸º 30 åˆ†

#################### å‡ºç«™ä»£ç† ####################
proxies:
  - name: "âš« DNSåŠ«æŒ"
    type: dns
    
    
# é”šç‚¹ - èŠ‚ç‚¹è®¢é˜…çš„å‚æ•° [æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡è®¢é˜…èŠ‚ç‚¹ï¼Œæ¯ 6 ç§’ä¸€æ¬¡å¥åº·æ£€æŸ¥]
NodeParam: &NodeParam {type: http, interval: 3600, health-check: {enable: true, url: 'http://www.google.com/blank.html', interval: 6}}

# é”šç‚¹ - èŠ‚ç‚¹è®¢é˜…
proxy-providers: 
  æœºåœºåç§°1:
    url: 'http://106.75.143.245:3390/api/v1/client/subscribe?token=4b83c9b85ffb9cf06d86fe5bf1a05d1c'
    <<: *NodeParam
    path: './proxy_providers/æœºåœºåç§°1.yaml'
    override:
      additional-prefix: "[æœºåœº1] " # ä¸ºè®¢é˜…èŠ‚ç‚¹æ·»åŠ æœºåœºåç§°å‰ç¼€
  æœºåœºåç§°2:
    url: 'æœºåœº2çš„è®¢é˜…URL'
    <<: *NodeParam
    path: './proxy_providers/æœºåœº2.yaml'
    override:
      additional-prefix: "[æœºåœº2] " # ä¸ºè®¢é˜…èŠ‚ç‚¹æ·»åŠ æœºåœºåç§°å‰ç¼€

# é”šç‚¹ - èŠ‚ç‚¹ç­›é€‰ç»„
FilterHK: &FilterHK '^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterTW: &FilterTW '^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterJP: &FilterJP '^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterKR: &FilterKR '^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©å›½|éŸ“|é¦–å°”|(\b(KR|Korea)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterSG: &FilterSG '^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterUS: &FilterUS '^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterUK: &FilterUK '^(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±å›½|ä¼¦æ•¦|(\b(UK|United Kingdom)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterFR: &FilterFR '^(?=.*((?i)ğŸ‡«ğŸ‡·|æ³•å›½|(\b(FR|France)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterDE: &FilterDE '^(?=.*((?i)ğŸ‡©ğŸ‡ª|å¾·å›½|(\b(DE|Germany)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterGame: &FilterGame '^(?=.*((?i)æ¸¸æˆ|ğŸ®|(\b(GAME)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­)).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author)(\d+)?\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$'

# ç­–ç•¥ç»„å‚æ•°é”šç‚¹
# é”šç‚¹ - æ—¶å»¶ä¼˜é€‰å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œå®¹å·® 20msï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
UrlTest: &UrlTest {type: url-test, interval: 6, tolerance: 20, lazy: true, url: 'http://www.google.com/blank.html', disable-udp: false, timeout: 2000, max-failed-times: 3, hidden: true, include-all-providers: true}
# é”šç‚¹ - æ•…éšœè½¬ç§»å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
FallBack: &FallBack {type: fallback, interval: 6, lazy: true, url: 'http://www.google.com/blank.html', disable-udp: false, timeout: 2000, max-failed-times: 3, hidden: true, include-all-providers: true}
# é”šç‚¹ - è´Ÿè½½å‡è¡¡å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
LoadBalance: &LoadBalance {type: load-balance, interval: 6, lazy: true, url: 'http://www.google.com/blank.html', disable-udp: false, strategy: consistent-hashing, timeout: 2000, max-failed-times: 3, hidden: true, include-all-providers: true}
# é”šç‚¹ - è§„åˆ™å‚æ•° [æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡è®¢é˜…è§„åˆ™ï¼Œæ›´æ–°è§„åˆ™æ—¶ä½¿ç”¨ç›´è¿ç­–ç•¥]
RuleProviders: &RuleProviders {type: http, behavior: classical, interval: 3600, format: yaml, proxy: DIRECT}

# ç­–ç•¥ç»„
proxy-groups: 
  - {name: Telegram, type: select, proxies: [HongKong, Taiwan, Japan, Korea, Singapore, American, United]}
  - {name: Twitter, type: select, proxies: [HongKong, Taiwan, Japan, Korea, Singapore, American, United]}
  - {name: AI, type: select, include-all-providers: true, filter: *FilterAll}
  - {name: TikTok, type: select, include-all-providers: true, filter: *FilterAll}
  - {name: YouTube, type: select, proxies: [HongKong, Taiwan, Japan, Korea, Singapore, American, United]}
  - {name: Google, type: select, proxies: [HongKong, Taiwan, Japan, Korea, Singapore, American, United]}
  - {name: Microsoft, type: select, proxies: [HongKong, Taiwan, Japan, Korea, Singapore, American, United]}
  - {name: Final, type: select, proxies: [HongKong, Taiwan, Japan, Korea, Singapore, American, United, DIRECT]}
  - {name: Block, type: select, proxies: [REJECT, REJECT-DROP]}
  - {name: HongKong, type: select, proxies: [â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰, ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§», ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡]}
  - {name: Taiwan, type: select, proxies: [â±å°æ¹¾æ—¶å»¶ä¼˜é€‰, ğŸš¥å°æ¹¾æ•…éšœè½¬ç§», ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡]}
  - {name: Japan, type: select, proxies: [â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰, ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§», ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡]}
  - {name: Korea, type: select, proxies: [â±éŸ©å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥éŸ©å›½æ•…éšœè½¬ç§», ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡]}
  - {name: Singapore, type: select, proxies: [â±æ–°å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥æ–°å›½æ•…éšœè½¬ç§», ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡]}
  - {name: American, type: select, proxies: [â±ç¾å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥ç¾å›½æ•…éšœè½¬ç§», ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡]}
  - {name: United, type: select, proxies: [â±è‹±å›½æ—¶å»¶ä¼˜é€‰, ğŸš¥è‹±å›½æ•…éšœè½¬ç§», ğŸ›è‹±å›½è´Ÿè½½å‡è¡¡]}

# æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„
  - {name: â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterHK}
  - {name: â±å°æ¹¾æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterTW}
  - {name: â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterJP}
  - {name: â±éŸ©å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterKR}
  - {name: â±æ–°å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterSG}
  - {name: â±ç¾å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterUS}
  - {name: â±è‹±å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterUK}
  - {name: â±æ³•å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterFR}
  - {name: â±å¾·å›½æ—¶å»¶ä¼˜é€‰, <<: *UrlTest, filter: *FilterDE}

# æ•…éšœè½¬ç§»ç­–ç•¥ç»„
  - {name: ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterHK}
  - {name: ğŸš¥å°æ¹¾æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterTW}
  - {name: ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterJP}
  - {name: ğŸš¥éŸ©å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterKR}
  - {name: ğŸš¥æ–°å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterSG}
  - {name: ğŸš¥ç¾å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterUS}
  - {name: ğŸš¥è‹±å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterUK}
  - {name: ğŸš¥æ³•å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterFR}
  - {name: ğŸš¥å¾·å›½æ•…éšœè½¬ç§», <<: *FallBack, filter: *FilterDE}

# è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„
  - {name: ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterHK}
  - {name: ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterTW}
  - {name: ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterJP}
  - {name: ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterKR}
  - {name: ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterSG}
  - {name: ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterUS}
  - {name: ğŸ›è‹±å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterUK}
  - {name: ğŸ›æ³•å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterFR}
  - {name: ğŸ›å¾·å›½è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterDE}

# è®¢é˜…è§„åˆ™
rule-providers:

  Reject:
    <<: *RuleProviders
    path: './providers/rule/Reject.yaml'
    url: 'https://raw.githubusercontent.com/yifai/Clash/main/Rules/Reject.yaml'    
    
  LAN:
    <<: *RuleProviders
    path: './rules/Lan.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/LAN_SPLITTER.yaml'
  Direct:
    <<: *RuleProviders
    path: './rules/Direct.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/Direct.yaml'

  Proxy:
    <<: *RuleProviders
    path: './rules/Proxy.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/Proxy.yaml'

  ChinaDownloadCDN:
    <<: *RuleProviders
    path: './rules/ChinaDownloadCDN.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/ChinaDownloadCDN.yaml'

  InternationalDownloadCDN:
    <<: *RuleProviders
    path: './rules/InternationalDownloadCDN.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/InternationalDownloadCDN.yaml'

  AI:
    <<: *RuleProviders
    path: './rules/AI.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/AI.yaml'

  TikTok:
    <<: *RuleProviders
    path: './rules/TikTok.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/TikTok.yaml'

  Twitter:
    <<: *RuleProviders
    path: './ruleset/Twitter.yaml'
    url: 'https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Twitter.yaml'    

  YouTube:
    <<: *RuleProviders
    path: './ruleset/YouTube.yaml'
    url: 'https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/YouTube.yaml'

  Microsoft:
    <<: *RuleProviders
    path: './rules/Microsoft.yaml'
    url: 'https://rule.kelee.one/Clash/Microsoft.yaml'

  Google:
    <<: *RuleProviders
    path: './rules/Google.yaml'
    url: 'https://rule.kelee.one/Clash/Google.yaml'

  Telegram:
    <<: *RuleProviders
    path: './rules/Telegram.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/Telegram.yaml'

  ESET_China:
    <<: *RuleProviders
    path: './rules/ESET_China.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/ESET_China.yaml'

# è§„åˆ™æŒ‡å‘
rules:
  - IP-CIDR,127.0.0.1/32,Block,no-resolve # ä¿®å¤ DNS æ³„æ¼
  - IP-CIDR,198.18.0.1/16,Block,no-resolve
  - IP-CIDR,28.0.0.1/8,Block,no-resolve
  - IP-CIDR6,::1/128,Block,no-resolve
  - RULE-SET, LAN, DIRECT
  - RULE-SET, Direct, DIRECT
  - RULE-SET, Proxy, Final
  - RULE-SET, ChinaDownloadCDN, DIRECT
  - RULE-SET, AI, AI
  - RULE-SET, TikTok, TikTok
  - RULE-SET, Reject, Block
  - RULE-SET, Twitter, Twitter
  - RULE-SET, YouTube, YouTube
  - RULE-SET, Microsoft, Microsoft
  - RULE-SET, Google, Google
  - RULE-SET, Telegram, Telegram
  - RULE-SET, ESET_China, DIRECT
  - GEOSITE,CN, DIRECT
  - GEOIP, CN, DIRECT,no-resolve
  - MATCH, Final
